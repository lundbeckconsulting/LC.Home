"use strict";var LC={PUB:{DateTime:{Current:{date:function(){return new Date},time:function(){return LC.PUB.DateTime.Current.date().getTime()},long:function(){return LC.PUB.DateTime.toLongDate(LC.DateTime.date())},short:function(){return LC.PUB.DateTime.toShortDate(LC.DateTime.date())}},toLongDate:function(n){return LC.PUB.DateTime.toShortDate(n)+" "+n.getUTCHours()+":"+n.getUTCMinutes()+"."+n.getUTCSeconds()},toShortDate:function(n){return n.getUTCDay()+"."+(n.getUTCMonth()+1)+"."+n.getUTCFullYear()},subtractDays:function(n){var t=LC.PUB.DateTime.Current.date;return t.setDate(t.getDate()-n),t}},Common:{siteId:function(){var n=$("#lc-common-site-id").val();return parseInt(n)},appId:function(n){LC.PUB.Common.siteId()>0&&LC.API.Ajax.Invoke(null,"Site","GetSite",{id:LC.PUB.Common.siteId()},null,"GET",function(t){LC.PUB.State.isEmpty(n)||n(t.id)})},isDevelopment:function(){var t=-1,n=$("#lc-common-is-development");return LC.PUB.State.isEmpty(n)||$.isNumeric(n.val())&&(t=parseInt(n.val())),LC.PUB.Cast.toBool(t)},creds:function(n){function i(t){n(t)}var t="/SECURE/creds.json";LC.PUB.Utility.fileExists(t)?LC.API.Ajax.GetJSON(t,i):LC.PUB.Utility.Console.error("creds.json doesn't exists. \""+t+'"')}},Utility:{fileExists:function(n){var i=!1,t=new XMLHttpRequest;return t.open("HEAD",n,!1),t.send(),t.status!==404&&(i=!0),t=null,i},Console:{basic:function(n){LC.PUB.Common.isDevelopment()&&console.log(n)},error:function(n){LC.PUB.Common.isDevelopment()&&console.error(n)}},Log:{warning:function(){},dbLog:function(){}}},State:{isEmpty:function(n){var t=!0;return typeof n!="undefined"&&n!==null&&(t=n.length===0),t},isEqual:function(n,t){return n===t},isEmail:function(n){var t=!1;return/^(([^<>()[\]\\.,;:\s@\"]+(\.[^<>()[\]\\.,;:\s@\"]+)*)|(\".+\"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/.test(n)&&(t=!0),t},isURL:function(n){var t=!1;return/^(?:http(s)?:\/\/)?[\w.-]+(?:\.[\w\.-]+)+[\w\-\._~:/?#[\]@!\$&'\(\)\*\+,;=.]+$/.test(n)&&(t=!0),t},isBool:function(n){var t=!1;switch(n.toLowerCase()){case"true":case"false":case"1":case"0":t=!0}return t}},Math:{roundUp:function(n){var r=this,t=undefined,i,u;return $.isNumeric(n)?(n.indexOf(".")>0?t=".":n.indexOf(",")>0&&(t=","),t.IsNull()||(i=undefined,u=undefined,i=parseInt(n.substring(0,n.indexOf(t))),u=parseInt(n.substring(n.indexOf(t))),tmp>=50&&(r=i+1))):LC.PUB.Utility.Console.error("RoundUp",'Supplied value "'+n+'" not numeric'),r}},Cast:{toBool:function(n){var t=!1;switch(String(n).toLowerCase()){case"true":case"1":t=!0}return t},toCapitalCase:function(n){var t=undefined;return LC.PUB.State.isEmpty(n)||(t=n.substring(0,1).toUpperCase()+n.substring(1)),t},toCamelCase:function(n){var t=undefined,r=n.Split(" "),i=0;return $.each(r,function(n){var r=LC.PUB.State.toCapitalCase(n);t+=i===0?r:" "+r;i++}),t},toCamelCaseMerged:function(n){return LC.PUB.Cast.ToCamelCase(n).replace(" ","")}},Cookie:{Get:function(n){return Cookies.Get(n)},Set:function(n,t){var i=arguments.length<=2||arguments[2]===undefined?180:arguments[2];Cookies.Set(n,t,{expires:i,path:""})},Delete:function(n){Cookies.Remove(n,{expires:-1,path:""})},DeleteAll:function(){var n=1;$.each(Cookies.get(),function(t){var i=t.name;LC.PUB.Utility.Console.basic("Processing "+i);LC.PUB.Cookie.Delete(i);result.push(i);n++});LC.PUB.Utility.Console.basic(n+" cookies deleted")}}},API:{CMS:{signIn:function(n,t,i){var r={Username:n,Password:t};LC.API.Ajax.Invoke(null,"CMS","SignIn",{},r,"POST",i)}},Contact:{createEmail:function(n,t,i,r,u,f,e){var s=arguments.length<=7||arguments[7]===undefined?null:arguments[7],h=arguments.length<=8||arguments[8]===undefined?null:arguments[8],c=arguments.length<=9||arguments[9]===undefined?null:arguments[9],l=arguments.length<=10||arguments[10]===undefined?null:arguments[10],a=arguments.length<=11||arguments[11]===undefined?null:arguments[11],v=arguments.length<=12||arguments[12]===undefined?null:arguments[12],y=arguments.length<=13||arguments[13]===undefined?null:arguments[13],o={appId:n,dateScheduled:i,emailTemplateId:h,templateValues:c,smtpProfileId:t,subject:f,senderAddress:r,senderName:u,content:e,recipients:s,cc:l,bcc:a,attachments:v};LC.PUB.Utility.Console.basic({createEmail:"createEmail",body:o});LC.API.Ajax.Invoke(null,"Contact","CreateEmail",{},o,"POST",y)},createEmailWithSiteId:function(n,t,i,r,u,f,e){var s=arguments.length<=7||arguments[7]===undefined?null:arguments[7],h=arguments.length<=8||arguments[8]===undefined?null:arguments[8],c=arguments.length<=9||arguments[9]===undefined?null:arguments[9],l=arguments.length<=10||arguments[10]===undefined?null:arguments[10],a=arguments.length<=11||arguments[11]===undefined?null:arguments[11],v=arguments.length<=12||arguments[12]===undefined?null:arguments[12],y=arguments.length<=13||arguments[13]===undefined?null:arguments[13],o={siteId:parseInt(n),dateScheduled:i,emailTemplateId:h,templateValues:c,smtpProfileId:t,subject:f,senderAddress:r,senderName:u,content:e,recipients:s,cc:l,bcc:a,attachments:v};LC.PUB.Utility.Console.basic({createEmail:"createEmailWithSiteId",body:o});LC.API.Ajax.Invoke(null,"Contact","CreateEmailWithSiteId",{},o,"POST",y)},deleteEmail:function(n){var i=arguments.length<=1||arguments[1]===undefined?null:arguments[1],t={id:n};LC.PUB.Utility.Console.basic({deleteEmail:"deleteEmail",body:t});LC.API.Ajax.Invoke(null,"Contact","Delete",{},t,"DELETE",i)},scheduleEmail:function(n,t){var r=arguments.length<=2||arguments[2]===undefined?null:arguments[2],i={id:n,date:t};LC.PUB.Utility.Console.basic({scheduleEmail:"scheduleEmail",body:i});LC.API.Ajax.Invoke(null,"Contact","Schedule",{},i,"POST",r)}},Ajax:{Invoke:function(){function h(r){$.ajax({type:o.toUpperCase(),url:i,headers:r,data:JSON.stringify(n),dataType:"JSON",contentType:"application/json",success:function(r){LC.PUB.Utility.Console.basic({duration:(new Date-s)/1e3,url:i,data:n});LC.PUB.State.isEmpty(t)||t(r)},error:function(n,t,i){LC.PUB.Utility.Console.error({error:i});LC.PUB.Utility.Console.error({status:t});LC.PUB.Utility.Console.error({xhr:n})}})}var r=arguments.length<=0||arguments[0]===undefined?null:arguments[0],u=arguments.length<=1||arguments[1]===undefined?null:arguments[1],f=arguments.length<=2||arguments[2]===undefined?null:arguments[2],e=arguments.length<=3||arguments[3]===undefined?{}:arguments[3],n=arguments.length<=4||arguments[4]===undefined?{}:arguments[4],o=arguments.length<=5||arguments[5]===undefined?"GET":arguments[5],t=arguments.length<=6||arguments[6]===undefined?null:arguments[6],i=LC.API.Ajax.GetUrl(r,u,f,e),s=new Date;LC.API.Ajax.apiHeader(h)},GetJSON:function(n,t){function i(n){t(n)}$.getJSON(n,i)},GetUrl:function(){var r=arguments.length<=0||arguments[0]===undefined?null:arguments[0],u=arguments.length<=1||arguments[1]===undefined?null:arguments[1],f=arguments.length<=2||arguments[2]===undefined?null:arguments[2],e=arguments.length<=3||arguments[3]===undefined?{}:arguments[3],t=LC.PUB.Common.isDevelopment()?"https://localhost:44374/":"http://api.lctools.lundbeckconsulting.no/",n,i;return LC.PUB.State.isEmpty(r)||(t=r),LC.PUB.State.isEmpty(u)||(t+="/"+u),LC.PUB.State.isEmpty(f)||(t+="/"+f),n=undefined,i=0,$.each(e,function(t,r){i===0?n="?":n+="&";console.log({tmp:n,key:t,value:r});n+=t+"="+r;i++}),LC.PUB.State.isEmpty(n)||(t+=n),t.toLowerCase()},apiHeader:function(n){function t(t){var i={LCAuth:t.Key+"/"+t.Password};n(i)}LC.PUB.Common.creds(t)}}}};(function(){LC.PUB.Utility.Console.basic("init")})(),function(n){n.fn.ToBool=function(){return LC.PUB.Cast.toBool(this.val())};n.fn.IsNumeric=function(){return n.isNumeric(this.val())};n.fn.IsEqual=function(n){return LC.PUB.State.isEqual(n,this.val())};n.fn.IsBool=function(){return LC.PUB.State.isBool(this.val())};n.fn.IsEmail=function(){return LC.PUB.State.isEmail(this.val())};n.fn.IsEmailAsInt=function(){var n=0;return this.IsEmail()&&(n=1),n};n.fn.IsURL=function(){return LC.PUB.State.isURL(this.val())};n.fn.IsURLAsInt=function(){var n=0;return this.IsURL()&&(n=1),n};n.fn.IsEmpty=function(){return LC.PUB.State.isEmpty(this.val())};n.fn.ToCapitalCase=function(){return LC.Cast.toCapitalCase(this.val())};n.fn.ToCamelCase=function(){return LC.PUB.Cast.toCamelCase(this.val())};n.fn.ToCamelCaseMerged=function(){return LC.PUB.Cast.toCamelCaseMerged(this.val())};n.fn.StartsWith=function(n){return this.val().startsWith(n)};n.fn.EndsWith=function(n){return this.val().endsWith(n)};n.fn.SetCookie=function(n){var t=arguments.length<=1||arguments[1]===undefined?180:arguments[1];LC.PUB.Cookie.Set(n,this.val(),t)}}(jQuery);